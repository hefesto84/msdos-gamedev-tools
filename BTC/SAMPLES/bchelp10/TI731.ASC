






  PRODUCT  :  Borland C++                            NUMBER  :  731
  VERSION  :  2.0
       OS  :  DOS
     DATE  :  September 23, 1991                       PAGE  :  1/2

    TITLE  :  Project File Corruption




  This information is provided for people who are using the
  Integrated Development Environment (IDE) provided with Borland
  C++ or Turbo C++ versions 1.0 and later.  This information may
  apply to any strange behavior experienced while working in the
  IDE, but it is more specifically for winerrors and unexplained GP
  faults received while working within the IDE.

  The IDE in Borland C++ and Turbo C++ maintain an image of the IDE
  in memory.  This image contains information about the windows on
  the desktop, the files that are open, the switches that are set
  in the IDE, etc.  By default when a program is run from the IDE
  all of the information concerning the current image of the IDE is
  saved to disk in the appropriate configuration files.

  If you are not using a project file with your program this image
  is stored in the TCCONFIG.TC, TCDEF.DSK and TCDEF.DPR files
  located in your BIN directory under your uppermost Borland
  compiler directory (normally TC or BORLANDC).  Additionally if
  you are using Borland C++ and have pre-compiled headers turned on
  there will by a TCDEF.SYM file in the same BIN directory.  These
  are your default configuration files and are created for you if
  they do not already exist.  When the IDE is run it looks for
  TCCONFIG.TC in the current directory first.  If it doesn't find
  one there it then looks in the BIN directory.  They will be
  created using all of the system defaults that your compiler was
  shipped with unless you have run TCINST or BCINST to modify the
  defaults.  All project files that you create will inherit the
  information contained in the above listed files with the
  exception of the TCDEF.SYM file, which is created during the
  first compilation using the new project file.

  When you create a project file the system creates a <project
  name>.prj and a <project name>.dsk in the current directory.
  Additionally if you are using Borland C++ and have pre-compiled
  headers turned on there will be a <project name>.SYM file in the
  current directory after the first compilation using the new
  project file.  Insure that you have not put any header (*.H)
  files in the project file.

  When experiencing any behavior in the IDE that appears to be
  incorrect on the part of the IDE the following procedure should
  be implemented:














  PRODUCT  :  Borland C++                            NUMBER  :  731
  VERSION  :  2.0
       OS  :  DOS
     DATE  :  September 23, 1991                       PAGE  :  2/2

    TITLE  :  Project File Corruption




     1.  If you are in the IDE exit out using ALT-X (don't shell
         out).

     2.  Go to the directory (current or BIN) containing the
         TCCONFIG.TC file that you are using and rename or erase
         it.

     3.  Go to the BIN directory and rename or erase TCDEF.*.

     4.  If you are using a project file erase or rename
         <project name>.prj and <project name>.dsk.

     5.  Now run the IDE.

     6.  If you were using a project file re-create it.

     7.  Retry the operation that was previously giving you a
         problem.

  After preforming these steps you should have no memory corruption
  within the IDE environment until the first time a program is run
  from the IDE.

  This corruption is usually a result of a stray pointer in a user
  program that just happens to be pointing at the image of the IDE
  in memory.  Until this pointer is caught and redirected the
  problem may persist.

  It is also possible for the image of BCX to become corrupted even
  though the IDE is being run in protected mode because the image
  is stored in real memory and the CPU is running in real mode as
  your program executes from within BCX.

  If you have a particularly large project file you may wish to
  create a back up copy that you can use to replace a copy
  suspected of being corrupted.













